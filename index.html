<!DOCTYPE HTML>
<html lang="en">
<head>
	<title>HTTPS n’aura plus de secret pour vous</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=792, user-scalable=no" />
	<meta http-equiv="x-ua-compatible" content="ie=edge" />
	<link rel="stylesheet" href="node_modules/shower-ribbon/styles/screen.css" />
	<link rel="stylesheet" href="node_modules/font-awesome/css/font-awesome.min.css" />
	<link rel="stylesheet" href="styles/styles.css" />
    <script src="webcomponents/slide-progression.js"></script>
    <script src="webcomponents/devoxx-footer.js"></script>
</head>
<body class="list">
    <header class="caption">
        <h1>HTTPS n’aura plus de secret pour vous</h1>
        <p>Grégory Paul - Mappy</p>
    </header>

    <template id="devoxx-footer-tpl">
        <span><a href="https://twitter.com/search?q=devoxxfr">#DevoxxFR</a> <a href="https://twitter.com/search?q=devoxxfr+HTTPS">#HTTPS</a></span>
        <a href="?devoxx" class="devoxx"><img src="pictures/devoxx-wide.png" alt="devoxx"></a>
    </template>


    <section id="cover" class="slide cover"><div>
        <h2><abbr title="HyperText Transfer Protocol Secure">HTTPS</abbr> n’aura plus de secret<br/>pour vous</h2>
        <p>par <a href="https://paulgreg.me/">Grégory Paul</a> - <a href="http://fr.mappy.com/" class="clear"><img alt="Mappy" src="pictures/mappy-logo.png" class="logo" /></a></p>
        <img class="front" src="pictures/cables.jpg" alt="" />
        <p class="link">
            <img src="pictures/qrcode.svg" alt="" />
            <a href="https://paulgreg.me/https-slides/">https://paulgreg.me/https-slides/</a>
        </p>
        <devoxx-footer></devoxx-footer>
    </div></section>

    <section id="presentation" class="slide"><div>
        <h2>Présentation</h2>
        <ul class="icons">
            <li><i class="fa fa-user nomargin"> </i>Grégory Paul
            <li><i class="fa fa-briefcase nomargin"></i> Développeur Web
            <br>(<a href="https://twitter.com/search?q=%23javascript%20from%3Apaulgreg&src=typd">JavaScript</a>, <a href="https://twitter.com/search?q=%23security%20from%3Apaulgreg&src=typd">sécurité</a>, <a href="https://twitter.com/search?q=%23hack%20from%3Apaulgreg&src=typd">bidouillage</a>)
            <li>
                <a href="https://paulgreg.me/" rel="me">https://paulgreg.me</a>
                <a href="https://twitter.com/paulgreg" rel="me"><i class="fa fa-twitter nomargin"></i></a>
                <a href="https://github.com/paulgreg" rel="me"><i class="fa fa-github nomargin"></i></a>
        </ul>
        <ul class="next icons">
            <li><img alt="Mappy" src="pictures/mappy-logo.png" class="logo" />
            <li><i class="fa fa-star nomargin"></i>
                <a href="https://fr.mappy.com/">cartes</a>, <a href="https://fr.mappy.com/itineraire">itinéraires</a>,
                <a href="https://fr.mappy.com/#/720/M1/THome/N-397.03335,1,2.29203,48.8608/Z15/">vues immersives</a> <small>(en <a href="http://techblog.mappy.com/vues-360-en-webgl.html">webGL</a>)</small>,
                <a href="https://fr.mappy.com/poi/5190c34184ae2d329f8f47ed">~4 500 000 <abbr title="Point Of Interest">POI</abbr></a>,
                <a href="https://shopping.mappy.com/">web2store</a>
            <li><i class="fa fa-line-chart nomargin"></i> ~ 1 000 000 visites par jour
            <img class="mappy-home" alt="" src="pictures/mappy-home.png" />
            <img class="mappy-immersive" alt="" src="pictures/mappy-immersive.png" />
        </ul>
        <devoxx-footer></devoxx-footer>
    </div></section>

    <section id="precision" class="slide"><div>
        <h2><abbr title="HyperText Transfer Protocol Secure ">HTTPS</abbr> ?</h2>
        <figure>
            <div class="tls"><abbr title="Secure Socket Layer">SSL</abbr>/<abbr title="Transport Layerr Security">TLS</abbr>
                <div class="http"><abbr title="HyperText Transfer Protocol">HTTP</abbr></div>
                <br/>
            </div>
        </figure>
        <devoxx-footer></devoxx-footer>
    </div></section>

    <template id="slide-progression-tpl">
        <ul class="slide-preogression icons">
            <li class="pourquoi closed"><i class="fa fa-question-circle"></i><span>Pourquoi HTTPS ?</span>
            <li class="objectifs closed"><i class="fa fa-bullseye"></i><span>Objectifs d’HTTPS</span>
            <li class="handshake closed"><i class="handshake"></i><span>Poignée de main</span>
            <li class="authentification closed"><i class="fa fa-key"></i><span>Authentification</span>
            <li class="attaques closed"><i class="fa fa-bomb"></i><span>Attaques</span>
            <li class="apres closed"><i class="fa fa-cogs"></i><span>Après HTTPS</span>
            <li class="performances closed"><i class="fa fa-tachometer"></i><span>Performances</span>
            <li class="conclusion closed"><i class="fa fa-hourglass-end"></i><span>Conclusion</span>
            <li class="annexes closed hidden"><i class="fa fa-book"></i><span>Annexes</span>
        </ul>
    </template>

    <section id="sommaire" class="slide"><div>
        <h2>Sommaire</h2>
        <ul class="icons">
            <li><i class="fa fa-question-circle"></i> Pourquoi HTTPS ?
            <li><i class="fa fa-bullseye"></i> Objectifs d’HTTPS
            <li><i class="handshake"></i> Poignée de main
            <li><i class="fa fa-key"></i> Authentification
            <li><i class="fa fa-bomb"></i> Attaques
            <li><i class="fa fa-cogs"></i> Après HTTPS
            <li><i class="fa fa-tachometer"></i> Performances
            <li><i class="fa fa-hourglass-end"></i> Conclusion
        </ul>
        <devoxx-footer></devoxx-footer>
    </div></section>

    <section id="pourquoi-https" class="slide shout"><div>
        <slide-progression open="pourquoi"></slide-progression>
        <h2>Pourquoi<br>HTTPS <i class="fa fa-question-circle"></i></h2>
        <devoxx-footer></devoxx-footer>
    </div></section>

    <section id="reseau-typique" class="slide"><div>
        <slide-progression open="pourquoi"></slide-progression>
        <h2>Dans un réseau typique...</h2>
        <figure>
            <img src="pictures/https_network.svg" class="svg" alt="Réseau normal" />
            <figcaption></figcaption>
        </figure>
        <devoxx-footer></devoxx-footer>
    </div></section>

    <section id="interception-traffic-http" class="slide"><div>
        <slide-progression open="pourquoi"></slide-progression>
        <h2>Pour éviter l’interception de traffic</h2>
        <figure>
            <img src="pictures/https_rogue_ap.svg" class="svg" alt="Réseau anormal au niveau du point d’accès" />
            <figcaption><kbd>donotbeevil</kbd></figcaption>
        </figure>
        <devoxx-footer></devoxx-footer>
    </div></section>

    <section id="interception-traffic-http-video" class="slide"><div>
        <slide-progression open="pourquoi"></slide-progression>
        <h2>Pour éviter l’interception de traffic</h2>
        <figure class="center">
            <video controls preload="metadata">
                <source src="videos/mitm-http.webm" type="video/webm" />
            </video>
            <figcaption class="narrow"><a href="#interception-traffic-http-explications">détails</a> et <a href="https://hackaday.io/project/10338-pi-mitm">implémentation</a> de cet exemple, <a href="#vol-cookie">vol de cookie</a></figcaption>
        </figure>
        <devoxx-footer></devoxx-footer>
    </div></section>

    <section id="interception-traffic-http-bis" class="slide"><div>
        <slide-progression open="pourquoi"></slide-progression>
        <h2>Pour éviter l’interception de traffic</h2>
        <figure>
            <img src="pictures/https_rogue_ap.svg" class="svg" alt="Réseau anormal au niveau du point d’accès" />
            <figcaption><kbd>donotbeevil</kbd></figcaption>
        </figure>
        <devoxx-footer></devoxx-footer>
    </div></section>

    <section id="protection-fai-schema" class="slide"><div>
        <slide-progression open="pourquoi"></slide-progression>
        <h2>Pour se protéger des <abbr title="Fournisseurs d’Accès Internet">FAI</abbr> malveillants</h2>
        <figure class="center">
            <img src="pictures/https_fai_injection.svg" class="svg" alt="Réseau anormal au niveau du FAI" />
            <figcaption class="narrow"><a href="#protection-fai">exemples de modifications de contenu par des FAI</a></figcaption>
        </figure>
        <devoxx-footer></devoxx-footer>
    </div></section>

    <section id="protection-fai" class="slide"><div>
        <slide-progression open="pourquoi"></slide-progression>
        <h2>Pour se protéger des <abbr title="Fournisseur d’Accès Internet">FAI</abbr> malveillant</h2>
        <ul>
            <li><a href="http://www.webrankinfo.com/dossiers/webmastering/blocage-publicite-free">blocage de pub Google par Free</a> en mai 2013,
            <li><a href="http://arstechnica.com/tech-policy/2014/09/why-comcasts-javascript-ad-injections-threaten-security-net-neutrality/">ajout de pub par Comcast</a> en septembre 2014,
            <li><a href="http://arstechnica.com/business/2015/08/atts-free-wi-fi-hotspot-injects-extra-ads-on-non-att-websites/">ajout de pub en échange de wifi gratuit</a><br/>
                <span><small>(depuis 2009, des pubs malicieuses ont déjà été servies depuis
                    <a href="http://www.pcworld.com/article/2604480/malicious-advertising-hits-amazon-youtube-and-yahoo-cisco-says.html">Amazon</a>,
                    <a href="http://www.techworm.net/2014/10/youtube-malvertising.html">Youtube</a>,
                    <a href="https://finance.yahoo.com/news/malvertising-yahoo-affects-users-172836199.html">Yahoo</a>,
                    le <a href="http://www.theguardian.com/technology/2009/sep/25/malvertising">New York Times</a>,
                    <a href="https://zeltser.com/malvertising-malicious-ad-campaigns/">The Onion</a>,
                    <a href="http://www.darkreading.com/attacks-breaches/zero-day-malvertising-attack-went-undetected-for-two-months/d/d-id/1320092">Dailymotion</a>,
                    <a href="http://www.nextinpact.com/news/99079-de-grands-sites-ont-diffuse-ransomware-via-publicites-contaminees.htm">theweathernetwork</a>,
                    etc,
                )</small>,</span>
        <li>ajout de cookie ou d’entêtes HTTP par <a href="https://www.eff.org/fr/deeplinks/2014/11/verizon-x-uidh">Verizon</a> en novembre 2014 <small>(<a href="https://www.nextinpact.com/news/98954-verizon-paiera-135-million-dollars-damende-pour-ses-cookies-zombies.htm">condammé en 2016</a>)</small>, <a href="http://www.bortzmeyer.org/enrichir-qui.html">Orange Jordanie, Vodafone Afrique du Sud</a>, mais aussi <a href="http://www.bortzmeyer.org/enrichir-qui.html">SFR &amp; Bouygues</a> en 2015.
        </ul>
    </div></section>


    <section id="grand-canon" class="slide"><div>
        <slide-progression open="pourquoi"></slide-progression>
        <h2>Pour se protéger du <a href="https://citizenlab.org/2015/04/chinas-great-cannon/">Grand Canon Chinois</a></h2>
        <figure class="center">
            <img src="pictures/https_great_cannon.svg" class="svg" alt="grand canon"/>
            <figcaption><p style="position:absolute; right: 60px; top: 550px;"><small>en avril 2015</small></p></figcaption>
        </figure>
        <devoxx-footer></devoxx-footer>
    </div></section>

    <section id="html5-seo" class="slide"><div>
        <slide-progression open="pourquoi"></slide-progression>
            <h2>Pour le <abbr title="Search engine optimization">SEO</abbr>, HTML5 et iOS/OS X</h2>
            <p><i class="fa fa-google"></i><a href="http://googleonlinesecurity.blogspot.fr/2014/08/https-as-ranking-signal_6.html">Google préfère un site en HTTPS</a>.</p>
            <p class="next"><i class="fa fa-html5"></i>Sans HTTPS, <a href="https://blog.mozilla.org/security/2015/04/30/deprecating-non-secure-http/">Firefox</a> et <a href="https://sites.google.com/a/chromium.org/dev/Home/chromium-security/deprecating-powerful-features-on-insecure-origins">Chrome</a> <small>(50)</small> bloquent certaines API JavaScript :</p>
            <ul class="inner next">
                <li><code>fullscreen</code>,
                <li><code>geolocation</code>,
                <li><code>device motion / orientation</code>,
                <li><code>getUserMedia</code>,
                <li><code>encrypted Media Extensions</code>, ...
            </ul>
            <p class="next"><i class="fa fa-apple"></i> Apple <a href="https://developer.apple.com/library/prerelease/ios/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html#//apple_ref/doc/uid/TP40009251-SW28">force HTTPS avec AppTransportSecurity</a> depuis  iOS 9.0 et OS X v10.11.</p>
        <devoxx-footer></devoxx-footer>
    </div></section>

	<section id="http2" class="slide"><div>
        <slide-progression open="pourquoi"></slide-progression>
		<h2>Pour bénéficier de <a href="https://www.bortzmeyer.org/7540.html" title="RFC 7540: Hypertext Transfer Protocol version 2">HTTP/2.0</a></h2>
        <figure>
            <blockquote><p>It looks like major browsers (Firefox &amp; Chrome) may be limiting the HTTP/2 support for TLS connections only, in order to push for a more secure web (SSL/TLS everywhere).</p></blockquote>
            <figcaption><a href="https://ma.ttias.be/architecting-websites-http2-era/#tls">Architecting Websites For The HTTP/2 Era</a>, <a href="http://daniel.haxx.se/blog/2015/03/06/tls-in-http2/">TLS in HTTP/2</a></figcaption>
        </figure>
        <devoxx-footer></devoxx-footer>
    </div></section>

	<section id="convaincu" class="slide tell"><div>
        <slide-progression open="pourquoi"></slide-progression>
		<h2>Convaincu <i class="fa fa-question-circle"></i></h2>
        <devoxx-footer></devoxx-footer>
	</div></section>

	<section id="objectifs-https" class="slide shout"><div>
        <slide-progression open="objectifs"></slide-progression>
        <h2><i class="fa fa-bullseye"></i> Objectifs<br/>d’HTTPS</h2>
        <devoxx-footer></devoxx-footer>
	</div></section>

	<section id="objectifs-https-details" class="slide"><div>
        <slide-progression open="objectifs"></slide-progression>
		<h2>Objectifs</h2>
        <dl>
            <dt><i class="fa fa-lock"></i>Confidentialité :
            <dd>Les données échangées sont chiffrées par une clé et ne peuvent être déchiffrées que par les 2 parties.
            <dt class="next"><i class="fa fa-users"></i>Authentification :
            <dd class="next">Le client vérifie que le serveur à qui il s’adresse est bien celui qu’il prétend être (cela évite les <a href="https://fr.wikipedia.org/wiki/Attaque_de_l'homme_du_milieu">attaques d’homme du milieu</a>). Éventuellement, le client peut s’authentifier auprès du serveur.
            <dt class="next"><i class="fa fa-balance-scale"></i>Intégrité :
            <dd class="next">Les parties vérifient que les données reçues n’ont pas été altérées.
            <dt class="next"><i class="fa fa-diamond"></i>Transparence :
            <dd class="next">Aucun changement nécessaire dans le protocole applicatif englobé.
            <dt class="next"><i class="fa fa-bolt"></i>Spontanéité :
            <dd class="next">Un client peut spontanément se connecter à un serveur (pas de pré-requis).
        </dl>
        <devoxx-footer></devoxx-footer>
    </div></section>

	<section id="version" class="slide tell"><div>
        <slide-progression open="objectifs"></slide-progression>
		<h2><i class="fa fa-code-fork"></i> Versions</h2>
        <devoxx-footer></devoxx-footer>
	</div></section>

	<section id="versions-details" class="slide"><div>
        <slide-progression open="objectifs"></slide-progression>
		<h2>Versions</h2>
        <ul class="icons">
            <li><i class="fa fa-code-fork"></i><span class="broken"><abbr title="Secure Socket Layer">SSL</abbr> 1.0</span> (jamais publié) par <a href="https://en.wikipedia.org/wiki/Netscape">Netscape</a>,
            <li class="next"><i class="fa fa-code-fork"></i><span class="broken">SSL 2.0</span> en 1995, <small>déprécié en 2011 par la <a href="https://tools.ietf.org/html/rfc6176"><abbr title="Request for comment">RFC</abbr> 6176</a></small>,
                <li class="next"><i class="fa fa-code-fork"></i><span class="broken">SSL 3.0</span> / <a href="https://tools.ietf.org/html/rfc6101">RFC 6101</a> en 1996 <small>(refonte)</small>, <small>déprécié en 2015 par la <a href="https://tools.ietf.org/html/rfc7568">RFC 7568</a></small>,
                <li class="next"><i class="fa fa-code-fork"></i><span class="unsecure"><abbr title="Transport Layerr Security">TLS</abbr> 1.0</span> / <a href="https://tools.ietf.org/html/rfc2246">RFC 2246</a> en 1999 <small>(modifications mineures)</small>,
                <li class="next"><i class="fa fa-code-fork"></i><span class="unsecure">TLS 1.1</span> / <a href="https://tools.ietf.org/html/rfc4346">RFC 4346</a> en 2006 <small>(<i class="fa fa-plus-circle nomargin"></i> protections contre les attaques sur <abbr title="Cipher Block Chaining">CBC</abbr>)</small>,
                <li class="next"><i class="fa fa-code-fork"></i><span class="safe">TLS 1.2</span> / <a href="https://tools.ietf.org/html/rfc5246">RFC 5246</a> en 2008 <small>(<i class="fa fa-plus-circle nomargin"></i> améliorations de sécurité)</small>,
            <li class="next"><i class="fa fa-code-fork"></i>Mise à jour sur TLS 1.2 en 2011/ <a href="https://tools.ietf.org/html/rfc6176">RFC 6176</a> <small>(<i class="fa fa-ban nomargin"></i> compatibilité SSL)</small>,
            <li class="next"><i class="fa fa-code-fork"></i><span class="safe">TLS 1.3</span> / <a href="https://tools.ietf.org/html/draft-ietf-tls-tls13-10">brouillon</a> en cours
                <small>(<i class="fa fa-ban nomargin"></i> compression,
                <i class="fa fa-ban nomargin"></i> renégociation,
                <i class="fa fa-ban nomargin"></i> MD5,
                <i class="fa fa-ban nomargin"></i> RC4,
                <i class="fa fa-plus-circle nomargin"></i> optimisation réseau,
                <i class="fa fa-plus-circle nomargin"></i> SHA-224)</small>.
        </ul>
        <devoxx-footer></devoxx-footer>
	</div></section>

	<section id="handshake-title" class="slide tell"><div>
        <slide-progression open="handshake"></slide-progression>
        <h2><i class="handshake"></i> Poignée de main</h2>
        <devoxx-footer></devoxx-footer>
	</div></section>

	<section id="rappels-cryptographiques" class="slide tell"><div>
        <slide-progression open="handshake"></slide-progression>
		<h2><i class="fa fa-lock"></i> Quelques rappels cryptographiques...</h2>
        <devoxx-footer></devoxx-footer>
	</div></section>

    <section id="chiffrement-symetrique" class="slide symetric"><div>
        <slide-progression open="handshake"></slide-progression>
        <h2><i class="fa fa-key" style="color: green;"></i> Chiffrement symétrique</h2>
        <figure class="center">
            <img src="./pictures/symetric-cipher.png" alt="chiffrement symétrique" />
            <figcaption>
                <ul class="icons">
                    <li class="next"><abbr title="Data Encryption Standard">DES</abbr> (<span class="broken">56 bits</span>), 3DES (<span class="unsecure">112 bits</span>), <abbr title="Advanced Encryption Standard">AES</abbr> (<span class="safe">128</span>, <span class="safe">256 bits</span>)
                    <li class="next"><i class="fa fa-plus"></i>rapide, performant&nbsp;<i class="fa fa-minus marginleft"></i>problème d’échange de clé
                </ul>
            </figcaption>
        </figure>
        <devoxx-footer></devoxx-footer>
    </div></section>

    <section id="chiffrement-asymetrique" class="slide asymetric"><div>
        <slide-progression open="handshake"></slide-progression>
        <h2><i class="fa fa-key" style="color: blue;"></i><i class="fa fa-key" style="color: orange"></i>  Chiffrement asymétrique</h2>
        <figure class="center">
            <img src="./pictures/asymetric-cipher.png" alt="chiffrement asymétrique" />
            <figcaption>
                <ul class="icons">
                    <li>nombres premiers via <a href="https://fr.wikipedia.org/wiki/Chiffrement_RSA">RSA</a> (<span class="unsecure">1024</span>, <span class="safe">2048</span>, <span class="safe">4096 bits</span>) et courbes elliptiques (<a href="https://fr.wikipedia.org/wiki/Cryptographie_sur_les_courbes_elliptiques">EC</a>)
                    <li class="next"><i class="fa fa-plus"></i>permet de transmettre une clé symétrique &nbsp;<i class="fa fa-minus marginleft"></i>lent, coûteux
                 </ul>
            </figcaption>
        </figure>
        <devoxx-footer></devoxx-footer>
    </div></section>

    <section id="fonction-hachage" class="slide"><div>
        <slide-progression open="handshake"></slide-progression>
        <h2><i class="fa fa-cutlery"></i> Fonction de hachage</h2>
        <pre>
            <code>$ echo -n "Hello World" | sha1sum</code>
            <code><mark>0a4d55a8d778e5022fab701977c5d840bbc486d0</mark></code>
            <code>$ echo -n "Hello World<mark class="important">.</mark>" | sha1sum</code>
            <code><mark>b701146cf2c1262a6385c8b1fb1db98f05820499</mark></code>
            <code>$ sha1sum ubuntu-12.04.3-desktop-amd64.iso</code>
            <code><mark>0c06d876dabb4403cede1245e3b0bf1d81afd497</mark></code>
       </pre>
       <p class="next">
           <span class="broken"><a href="https://fr.wikipedia.org/wiki/MD5">MD5</a></span>,
           <span class="unsecure"><a href="https://fr.wikipedia.org/wiki/SHA-1">SHA-1</a></span>,
           <span class="safe"><a href="https://fr.wikipedia.org/wiki/SHA-2">SHA-2</a></span> <small>(SHA-224, SHA-256, SHA-384 et SHA-512)</small>,
           <span class="safe"><a href="https://fr.wikipedia.org/wiki/SHA-3">SHA3</a></span>.
       </p>
        <devoxx-footer></devoxx-footer>
    </div></section>

    <section id="hmac" class="slide"><div>
        <slide-progression open="handshake"></slide-progression>
        <h2><i class="fa fa-cutlery"></i> <a href="https://fr.wikipedia.org/wiki/Keyed-Hash_Message_Authentication_Code"><abbr title="Keyed message authentification code">HMAC</abbr></a></h2>
        <p>Influencé par une clé</p>
        <pre>
            <code>echo -n "Hello World" | openssl dgst -sha1 -hmac "key"</code>
            <code><mark>cc24f1acdb06cf429bcf9861b6d708b6ec20a8fa</mark></code>
       </pre>
       <p class="next">
           <span class="broken">HMAC_MD5</span>,
           <span class="unsecure">HMAC_SHA1</span>,
           <span class="safe">HMAC_SHA256</span>.
       </p>
       <p class="next">
           Permet de vérifier l’intégrité des données.
       </p>
        <devoxx-footer></devoxx-footer>
    </div></section>

    <section id="signature-numerique" class="slide signature"><div>
        <slide-progression open="handshake"></slide-progression>
        <h2><i class="fa fa-certificate"></i> Signature numérique</h2>
        <figure class="center">
            <img src="./pictures/signature.png" alt="signature numérique" />
            <figcaption></figcaption>
        </figure>
        <devoxx-footer></devoxx-footer>
    </div></section>

	<section id="handshake-title-bis" class="slide tell"><div>
        <slide-progression open="handshake"></slide-progression>
        <h2><i class="handshake"></i> Poignée de main<br/><small>(<a href="http://www.moserware.com/2009/06/first-few-milliseconds-of-https.html">en détails</a>)</small></h2>
        <devoxx-footer></devoxx-footer>
	</div></section>

	<section id="handshake-client-hello" class="slide"><div>
        <slide-progression open="handshake"></slide-progression>
        <h2>1. &laquo; Client hello &raquo;</h2>
        <figure class="sidebyside handshake">
            <figcaption>
                <img src="pictures/handshake/1-handshake.png" alt="handshake : client hello" />
                <p class="legend plain">en clair</p>
                <code style="display: inline-block; margin: 20px 0 20px 110px;">TCP 443</code>
                <ul style="margin-left: 30px;">
                    <li class="next">version
                    <li class="next">session ID
                    <li class="next"><a href="#cipher-suites">suites de chiffrement</a>
                    <li class="next">Server Name Indication (SNI)
                </ul>
            </figcaption>
            <img src="pictures/handshake/1-client-hello.png" alt="wireshark : client hello" />
            <span class="mark hello"   style="top: 181px; left: 570px; width: 60px;"></span>
            <span class="mark version" style="top: 214px; left: 522px; width: 40px;"></span>
            <!--span class="mark random"  style="top: 246px; left: 488px; width: 55px;"></span-->
            <span class="mark session" style="top: 258px; left: 482px; width: 50px;"></span>
            <span class="mark suites"  style="top: 281px; left: 482px; width: 65px;"></span>
            <span class="mark sni"     style="top: 551px; left: 488px; width: 105px;"></span>
        </figure>
        <devoxx-footer></devoxx-footer>
	</div></section>

	<section id="handshake-server-hello" class="slide"><div>
        <slide-progression open="handshake"></slide-progression>
        <h2>2. &laquo; Server hello &raquo;</h2>
        <figure class="sidebyside handshake">
            <figcaption>
                <img src="pictures/handshake/2-handshake.png" alt="handshake : server hello" />
                <p class="legend plain">en clair</p>
                <ul style="margin-left: 50px;">
                    <li class="next">version
                    <li class="next">session ID
                    <li class="next">suite de chiffrement choisie
                </ul>
            </figcaption>
            <img src="pictures/handshake/2-server-hello.png" alt="server hello" />
            <span class="mark hello"   style="top: 205px; left: 596px; width: 74px;"></span>
            <span class="mark version" style="top: 246px; left: 538px; width: 48px;"></span>
            <!--span class="mark random"  style="top: 288px; left: 496px; width: 70px;"></span-->
            <span class="mark session" style="top: 315px; left: 488px; width: 60px;"></span>
            <span class="mark suite"   style="top: 328px; left: 488px; width: 72px;"></span>
        </figure>
        <devoxx-footer></devoxx-footer>
	</div></section>

	<section id="handshake-certificate" class="slide"><div>
        <slide-progression open="handshake"></slide-progression>
        <h2>2. Certificat(s) &amp; &laquo; Server hello done &raquo;</h2>
        <figure class="sidebyside handshake">
            <figcaption>
                <img src="pictures/handshake/4-handshake.png" alt="handshake : server certificates" />
                <p class="legend plain">en clair</p>
                    <ul>
                        <li>certificat du domaine (<a href="#certificat-x509"><small>X.509</small></a>)
                        <li class="next">wildcard <small>(*.mappy.com)</small>
                        <li class="next">magasin de certificat
                            <img class="next store" src="pictures/ca-store.png" alt="browser CA store" />
                        <li class="next">certificat intermédiaire
                        <li class="next">Subject Alternative Name <small>(fr.mappy.com, en.mappy.com,...)</small>
                    </ul>
            </figcaption>
            <img src="pictures/handshake/3-certificates.png" alt="server certificates" />
            <span class="mark certificate"  style="top: 207px; left: 602px; width: 70px;"></span>
            <span class="mark mappy"        style="top: 293px; left: 612px; width: 300px;"></span>
            <span class="mark symatec"      style="top: 321px; left: 612px; width: 300px;"></span>
            <span class="mark hello-done"   style="top: 407px; left: 603px; width: 105px;"></span>
        </figure>
        <devoxx-footer></devoxx-footer>
	</div></section>

	<section id="handshake-key-exchange" class="slide"><div>
        <slide-progression open="handshake"></slide-progression>
        <h2>3. Pré-clé chiffré avec la clé publique du serveur</h2>
        <figure class="sidebyside handshake">
            <figcaption>
                <img src="pictures/handshake/5-handshake.png" alt="handshake : key exchange" />
                <p class="legend asymetric">chiffrement asymétrique</p>
                <pre style="margin-top: 80px;">
                    <code>secret = random()</code>
                    <code>encrypt(certicate.publicKey, secret)</code>
                </pre>
            </figcaption>
            <img src="pictures/handshake/5-key-exchange.png" alt="key exchange">
            <span class="mark key-exchange"         style="top: 208px; left: 603px; width: 120px;"></span>
            <span class="mark change-cipher-spec"   style="top: 222px; left: 784px; width: 110px;"></span>
            <span class="mark encrypted-message"    style="top: 294px; left: 728px; width: 170px;"></span>
        </figure>
        <devoxx-footer></devoxx-footer>
	</div></section>

	<section id="handshake-change-cipher-spec" class="slide"><div>
        <slide-progression open="handshake"></slide-progression>
        <h2>4. Échange terminé</h2>
        <figure class="sidebyside handshake">
            <figcaption>
                <img src="pictures/handshake/6-handshake.png" alt="handshake : key exchange" />
                <p class="legend asymetric">chiffrement asymétrique</p>
            </figcaption>
            <img src="pictures/handshake/6-change-cipher-spec.png" alt="change cipher spec">
            <span class="mark change-cipher-spec"  style="top: 150px; left: 782px; width: 112px;"></span>
            <span class="mark encrypted-message"   style="top: 222px; left: 724px; width: 170px;"></span>
        </figure>
        <pre style="margin-top: 40px;">
            <code>[ cipherKey, hmacKey ] = deriveKeys(client.secret)</code>
<!--
            <code>// ms = masterSecret</code>
            <code>ms = <abbr title="pseudo random function">PRF</abbr>(client.preMasterSecret, client.random, server.random)</code>
            <code> </code>
            <code>[ clientCipherKey, serverCipherKey ] = extractCipherKeys(ms)</code>
            <code>[ clientHMACKey, serverHMACKey ] = extractHMACKeys(ms)</code>
-->
        </pre>
        <devoxx-footer></devoxx-footer>
	</div></section>

	<section id="handshake-encrypted-data" class="slide"><div>
        <slide-progression open="handshake"></slide-progression>
        <h2>5. Place au traffic chiffré</h2>
        <figure class="sidebyside handshake">
            <figcaption>
                <img src="pictures/handshake/7-handshake.png" alt="poignée de main">
                <p class="legend symetric">chiffrement symétrique</p>
            </figcaption>
            <img src="pictures/handshake/7-encrypted-data.png" alt="encrypted data">
            <span class="mark encrypted-message"   style="top: 209px; left: 482px; width: 158px;"></span>
        </figure>
        <pre style="margin-top: 40px;">
<!--
            <code>encryptRequest(message, clientCipherKey, clientHMACKey)</code>
            <code>decryptRequest(message, clientCipherKey, clientHMACKey)</code>
            <code>encryptResponse(message, serverCipherKey, serverHMACKey)</code>
            <code>decryptResponse(message, serverCipherKey, serverHMACKey)</code>
-->
            <code>encrypt( request,  cipherKey, hmacKey) // client</code>
            <code>decrypt( request,  cipherKey, hmacKey) // server </code>
            <code>encrypt( response, cipherKey, hmacKey) // server</code>
            <code>decrypt( response, cipherKey, hmacKey) // client</code>
        </pre>
        <devoxx-footer></devoxx-footer>
	</div></section>

	<section id="pfs" class="slide"><div>
        <slide-progression open="handshake"></slide-progression>
        <h2><i class="fa fa-user-secret"></i> Confidentialité persistante parfaite (<a href="http://vincent.bernat.im/en/blog/2011-ssl-perfect-forward-secrecy.html"><abbr title="Perfect Forward Secrecy">PFS</abbr></a>)</h2>
        <figure class="sidebyside">
            <img class="next" src="pictures/diffie-Hellman_key_exchange.png" alt="Algorithme de Diffie Hellman">
            <figcaption class="next">
                <p>La conversation reste secrête même si la clé privée a fuité grâce à l’<a href="https://fr.wikipedia.org/wiki/%C3%89change_de_cl%C3%A9s_Diffie-Hellman">échange de clés Diffie-Hellman</a>.</p>
                <p>Suites "Ephemeral Diffie-Hellman" :
                <small><strong>DHE</strong>-RSA-AES128-SHA</small>,
                <small><strong>EDH</strong>-RSA-DES-CBC-SHA</small>,
                <small>EC<strong>DHE</strong>-RSA-AES128-SHA</small>,
                ... </p>
                <p>La poignée de main est <a href="#diffie-hellman-handshake-title">légèrement différente</a>.</p>
            </figcaption>
        </figure>
        <devoxx-footer></devoxx-footer>
    </div></section>

	<section id="authentification" class="slide shout"><div>
        <slide-progression open="authentification"></slide-progression>
		<h2><i class="fa fa-key"></i> Authentification</h2>
        <devoxx-footer></devoxx-footer>
	</div></section>

	<section id="type-certificats" class="slide"><div>
        <slide-progression open="authentification"></slide-progression>
		<h2>Domain, Organization et Extended Validation</h2>
        <dl>
            <dt><i class="fa fa-certificate"></i>Domain validation
            <dd>Simple vérification sur l’appartenance du domaine
            <dt class="next"><i class="fa fa-building"></i>Organization validation
            <dd class="next">Vérification de l’identité du propriétaire (carte d’identité, SIRET, etc)
            <dt class="next"><i class="fa fa-star"></i>Extended validation
            <dd class="next">Enquête sur le propriétaire (<a href="https://www.verisign.com/en_US/domain-names/web-presence/website-optimization/ssl-certificates/index.xhtml?loc=en_US#a7">vérification d’une précense physique, opérationnelle et juridique</a>), permet l’affichage du propriétaire dans la barre d’adresse : <img src="pictures/greenbar.png" alt="barre verte" />
        </dl>
        <devoxx-footer></devoxx-footer>
    </div></section>


	<section id="ca" class="slide"><div>
        <slide-progression open="authentification"></slide-progression>
        <h2>Infrastructure de clé publique (<abbr title="Public key infrastructure">PKI</abbr>)</h2>
        <figure>
            <img src="pictures/ca_hierarchy.svg" alt="Hiérarchie des Autorités de Certifications" height="150" />
            <figcaption>
                <dl>
                    <dt><i class="fa fa-hospital-o"></i>Autorité de certification racine (<abbr title="Autorité de certification">AC</abbr> racine ou root <abbr title="Certificate authority">CA</abbr>)
                    <dd>Certificat auto-signé ; 200~400 CA chez :
                        <a href="https://www.mozilla.org/en-US/about/governance/policies/security-group/certs/policy/">Mozilla</a>,
                        <a href="https://www.apple.com/certificateauthority/ca_program.html">Apple</a>,
                        <a href="http://social.technet.microsoft.com/wiki/contents/articles/31633.microsoft-trusted-root-program-requirements.aspx">Microsoft</a> ou
                        <a href="https://www.chromium.org/Home/chromium-security/root-ca-policy">Google</a>
                    <dt class="next"><i class="fa fa-building"></i>Autorité de certification intermédiaire (intermediate CA)
                    <dt class="next"><i class="fa fa-building-o"></i>Autorité d’enregistrement (issuing CA)
                    <dt class="next"><i class="fa fa-question-circle"></i>Alternative
                    <dd class="next"><a href="#DANE"><abbr title="DNS-based Authentication of Named Entities">DANE</abbr></a> : certificat dans DNSSEC.
                </dl>
            </figcaption>
        </figure>
        <devoxx-footer></devoxx-footer>
    </div></section>

	<section id="certificate-transparency" class="slide"><div>
        <slide-progression open="authentification"></slide-progression>
        <h2><i class="fa fa-book"></i> Certificate Transparency</h2>
        <h3>Problèmes :</h3>
        <ul>
            <li class="next">des <a href="https://mozillacaprogram.secure.force.com/CA/IncludedCACertificateReport">centaines de CA</a> dans nos magasins (entreprises, gouvernements),
            <li class="next">n’importe quel CA peut signer un certificat pour n’importe quel domaine,
            <li class="next">les CA, des cibles très intéressantes <small>(<a href="#ca-breach">quelques attaques</a>, rogue CA)</small>.
        </ul>
        <h3 class="next">Une réponse : <a href="http://www.certificate-transparency.org/">certificate transparency</a></h3>
        <ul>
            <li class="next">Projet <abbr title="Open Source Software">OSS</abbr> initié par Google : <a href="https://github.com/google/certificate-transparency">github.com/google/certificate-transparency</a>,
            <li class="next">Base de données distribuée permettant de savoir qui a signé quoi
        </ul>
        <devoxx-footer></devoxx-footer>
    </div></section>

	<section id="lets-encrypt" class="slide"><div>
        <slide-progression open="authentification"></slide-progression>
        <h2><a href="https://letsencrypt.org/" class="clear"><img src="pictures/letsencrypt.svg" alt="Let’s encrypt" /></a></h2>
        <p>
            <span>Autorité de certification</span>
            <span><strong>+</strong></span>
            <span>Protocole <a href="https://github.com/letsencrypt/acme-spec"><abbr title="Automated Certificate Management Environment ">ACME</abbr></a></span>
            <span><strong>+</strong></span>
            <span>Agent <abbr title="Open Source Software">OSS</abbr></span>
            <span><strong>=</strong></span>
            <span>Certificat <abbr title="Domain Validation">DV</abbr> à jour</span>
        </p>
        <figure class="next center"><a href="https://pbs.twimg.com/media/CdOW4eEW8AABgka.jpg" class="clear"><img src="pictures/letsencrypt-influence.jpg" alt="influence de letsencrypt" width="500"></a></figure>
        <p class="next"><a href="https://letsencrypt.org/2015/10/29/phishing-and-malware.html">Exclus</a> les sites malveillants grâce à la <a href="https://developers.google.com/safe-browsing/">Safe Browsing API</a>.</p>
        <devoxx-footer></devoxx-footer>
    </div></section>

	<section id="revoquation" class="slide"><div>
        <slide-progression open="authentification"></slide-progression>
        <h2>Révocation : <a href="https://www.fir3net.com/Security/Concepts-and-Terminology/certificate-revocation.html">CRL</a>, <a href="https://www.fir3net.com/Security/Concepts-and-Terminology/certificate-revocation.html">OCSP</a> et <a href="https://www.imperialviolet.org/2012/02/05/crlsets.html">Chrome</a> <a href="https://www.grc.com/revocation/crlsets.htm">CRLSet</a></h2>
        <dl>
            <dt class="next"><i class="fa fa-ban"></i>Certificate Revocation Lists (CRL) :
            <dd class="next">Liste de n° de certificat invalide ; fichier potentiellement conséquent ; mis à jour tous les 7~14 jours ; confiance &quot;par défaut&quot;
            <dt class="next"><i class="fa fa-ban"></i>Online Certificate Status Protocol (OCSP) :
            <dd class="next">Requête par certificat ; confiance &quot;par défaut&quot;
            <dt class="next"><i class="fa fa-bolt"></i>OSCP Stampling :
            <dd class="next">Le serveur joint une preuve valable quelques minutes avec son certificat ; TLS 1.2 seulement
            <dt class="next"><i class="fa fa-ban"></i>Google Chrome CRLSet :
            <dd class="next">Liste de 250 Ko de n° de certificat invalide ; régulièrement mise à jour par Chrome ; ne contient qu’une infime partie des certificats révoqués...
        </dl>
        <devoxx-footer></devoxx-footer>
    </div></section>

	<section id="attaques" class="slide shout"><div>
        <slide-progression open="attaques"></slide-progression>
		<h2><i class="fa fa-bomb"></i> Attaques</h2>
        <devoxx-footer></devoxx-footer>
	</div></section>

	<section id="pourquoi-attaquer-la-crypto" class="slide"><div>
        <slide-progression open="attaques"></slide-progression>
        <h2><i class="fa fa-wrench"></i> S’attaquer à la cryptographie ?</h2>
        <p>La cryptographie est <a href="#force-brute">solide</a> selon <a href="#doutes">Bruce Schneier &amp; Edward Snowden</a>.
        <figure class="center next">
            <a href="https://xkcd.com/538/" class="clear"><img src="pictures/security.png" alt="xkcd" /></a>
            <figcaption>Pourquoi s’attaquer à la cryptographie alors qu’il existe d’autres moyens ?</figcaption>
        </figure>
        <devoxx-footer></devoxx-footer>
    </div></section>

	<section id="attaques-faciles" class="slide"><div>
        <slide-progression open="attaques"></slide-progression>
		<h2><i class="fa fa-keyboard-o"></i> Attaques &laquo; faciles &raquo;</h2>
        <ul>
            <li>récupèrer les infos ailleurs <small>(chez l’hébergeur)</small>,
            <li class="next">via une attaque <abbr title="Man in the middle">MITM</abbr> &laquo; <a href="https://en.wikipedia.org/wiki/Moxie_Marlinspike#SSL_stripping">SSLStrip</a> &raquo;, <small>par <a href="https://en.wikipedia.org/wiki/Moxie_Marlinspike">Moxie Marlinspike</a></small>, <small>(bonus : en affichant <i class="fa fa-lock nomargin"></i> comme favicon)</small>,
            <li class="next">via un <a href="https://fr.wikipedia.org/wiki/Enregistreur_de_frappe">enregistreur de frappe</a> <small>(keylogger)</small>,
            <li class="next">pour les gouvernements, demander la clé ou faire générer un certificat,
            <li class="next">installer une CA &laquo; maison &raquo; pour faire de l’interception légale <small>(recommandations de la <a href="http://www.cnil.fr/linstitution/actualite/article/article/analyse-de-flux-https-bonnes-pratiques-et-questions/">CNIL</a> et de l’<a href="http://www.ssi.gouv.fr/guide/recommandations-de-securite-concernant-lanalyse-des-flux-https/">ANSSI</a>)</small> ou illégale...
            <li class="next">ce que font les antivirus <small>(ou des mauvais logiciels : <a href="https://support.lenovo.com/us/en/product_security/superfish">superfish</a>, <a href="http://joenord.blogspot.fr/2015/11/new-dell-computer-comes-with-edellroot.html">eDellRoot</a>)</small>.
        </ul>
        <devoxx-footer></devoxx-footer>
    </div></section>

	<section id="interception-https" class="slide"><div>
        <slide-progression open="attaques"></slide-progression>
		<h2><i class="fa fa-user-secret"></i> Interception via un point d’accès malveillant</h2>
        <figure class="center">
            <video controls preload="metadata" src="videos/mitm-https.webm"></video>
            <figcaption class="narrow"><a href="#interception-traffic-http-explications">détails</a> et <a href="https://hackaday.io/project/10338-pi-mitm">implémentation</a> de cet exemple</figcaption>
        </figure>
        <devoxx-footer></devoxx-footer>
	</div></section>

	<section id="bugs" class="slide"><div>
        <slide-progression open="attaques"></slide-progression>
        <h2><i class="fa fa-bug"></i> Bugs</h2>
        <a href="https://xkcd.com/221/" class="clear"><img src="pictures/random_number.png" alt="xkcd" /></a>
        <ul>
            <li>2008 : <a href="https://www.schneier.com/blog/archives/2008/05/random_number_b.html">DSA-1571-1</a> : /dev/random sur Debian limité à 32768 valeurs,
            <li class="next">2014 : <a href="http://www.cve.mitre.org/cgi-bin/cvename.cgi?name=2014-1266">CVE-2014-1266</a> : <a href="https://opensource.apple.com/source/Security/Security-55471/libsecurity_ssl/lib/sslKeyExchange.c?txt">goto fail</a> chez Apple,
            <li class="next">2014 : <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2014-0092">CVE-2014-0092</a> : <a href="https://www.gitorious.org/gnutls/gnutls/commit/6aa26f78150ccbdf0aec1878a41c17c41d358a3b">goto cleanup</a> sur GnuTLS,
            <li class="next">2015 : <a href="http://www.cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2014-0160">CVE-2014-0160</a> : <i class="fa fa-heartbeat nomargin"></i> <a href="http://heartbleed.com/">heartbleed</a> : le serveur laisse fuiter quelques octets en RAM...
        </ul>
        <devoxx-footer></devoxx-footer>
    </div></section>

	<section id="attacks-summary" class="slide"><div>
        <slide-progression open="attaques"></slide-progression>
		<h2><i class="fa fa-bomb"></i> Les attaques connues</h2>
        <ul class="icons">
            <li>en 2011 <i class="fa fa-optin-monster"></i> <a href="#beast">BEAST</a>: Browser Exploit Against SSL/TLS,
            <li class="next">en 2012 <i class="fa fa-bolt"></i> <a href="#crime">CRIME</a>: Compression Ratio Info-leak Made Easy,
            <li class="next">en 2013 <i class="fa fa-bolt"></i> <a href="#breach">BREACH</a>: Browser Reconnaissance and Exfiltration via Adaptive Compression of Hypertext,
            <li class="next">en 2014 <i class="fa fa-level-down"></i> <a href="#poodle">POODLE</a>: Padding Oracle On Downgraded Legacy Encryption,
            <li class="next">en 2015 <i class="fa fa-optin-monster"></i> <a href="#freak">FREAK</a>: Factoring RSA EXPORT Attack Keys,
            <li class="next">en 2015 <i class="fa fa-level-down"></i> <a href="#logjam">Logjam</a>: sur Diffie-Hellman,
            <li class="next">en 2016 <i class="fa fa-tint"></i> <a href="#drown">DROWN</a>: via SSLv2,
            <li class="next">sans parler de <a href="#collision">génération de certificats via des collisions</a> ou d’<a href="#attaques-pointues">attaques encore plus pointues</a>...
        </ul>
        <devoxx-footer></devoxx-footer>
    </div></section>

	<section id="apres-HTTPS" class="slide shout"><div>
        <slide-progression open="apres"></slide-progression>
		<h2><i class="fa fa-cogs"></i> Après HTTPS</h2>
        <devoxx-footer></devoxx-footer>
	</div></section>

	<section id="expiration" class="slide"><div>
        <slide-progression open="apres"></slide-progression>
		<h2><i class="fa fa-calendar-times-o"></i> Pensez à renouveller vos certificats !</h2>
        <p>Quelques fails :</p>
        <ul class="icons">
            <li><i class="fa fa-windows"></i>  Microsoft <a href="http://www.techweekeurope.co.uk/workspace/microsoft-windows-azure-cloud-fails-over-expired-ssl-certificate-108444">Azure</a> (2013),
            <li><i class="fa fa-apple"></i> Mac <a href="http://betanews.com/2014/05/25/apples-ssl-fail-allows-certificate-to-expire-scares-os-x-users/">App Store</a> (2014),
            <li><i class="fa fa-google"></i> <a href="http://www.ibtimes.com/google-gmail-glitch-outages-caused-failure-update-security-certificate-1870416">GMail</a> (2015),
            <li><i class="fa fa-apple"></i> Mac <a href="http://techcrunch.com/2015/11/12/all-mac-store-apps-stopped-working-due-to-expired-security-certificate/">App Store</a> (encore en 2015) !
        </ul>
        <devoxx-footer></devoxx-footer>
    </div></section>

	<section id="mixed-content" class="slide"><div>
        <slide-progression open="apres"></slide-progression>
		<h2>Mixed content</h2>
        <ul>
            <li>Mixed content : ressources chargées via HTTP depuis une page HTTPS <small>(<a href="https://developer.mozilla.org/en-US/docs/Security/Mixed_content"><abbr title="Mozilla Developer Network">MDN</abbr></a>)</small>
            <li class="next">Contenu <strong>passif</strong> dégradant l’icône de sécurité : <code>&lt;img&gt;</code>, <code>&lt;audio&gt;</code>, <code>&lt;video&gt;</code>
            <li class="next">Contenu <strong>actif</strong> bloqué : <code>&lt;script&gt;</code>, <code>&lt;link&gt;</code>, <code>&lt;iframe&gt;</code>, <code>&lt;object&gt;</code>, <code>XMLHttpRequest</code>, propriétés <code>CSS</code>
        </ul>
        <figure class="next center">
            <img src="pictures/dubious-as-neutral.png" alt="Chrome page security icon" width="400"/>
            <figcaption><a href="https://googleonlinesecurity.blogspot.com.au/2015/10/simplifying-page-security-icon-in-chrome.html">Simplifying page security icon in Chrome</a></figcaption>
        </figure>
        <devoxx-footer></devoxx-footer>
    </div></section>

	<section id="HSTS" class="slide"><div>
        <slide-progression open="apres"></slide-progression>
		<h2>HSTS : Http Strict Transport Security <a href="https://tools.ietf.org/html/rfc6797">RFC6797</a></h2>
        <pre><code>Strict-Transport-Security: max-age=16070400; includeSubDomains</code></pre>
        <ul class="icons">
            <li><i class="fa fa-bolt"></i> Force <code>https://</code> (même si l’utilisateur tape <code>http://</code> ou si les liens pointent vers <code>http://</code>),
            <li class="next"><i class="fa fa-user-secret"></i> Évite une interception future <small>(sslstrip)</small>,
            <li class="next"><i class="fa fa-gift"></i> Pré-chargement dans les navigateurs : <a href="https://code.google.com/p/chromium/codesearch#chromium/src/net/http/transport_security_state_static.json">transport_security_state_static.json</a>,
            <li class="next"><i class="fa fa-exclamation-triangle"></i> Que se passe-t-il si votre certificat expire ou si le port 443 ne répond plus ?
        </ul>
        <devoxx-footer></devoxx-footer>
    </div></section>

	<section id="certificate-public-key-pinning" class="slide"><div>
        <slide-progression open="apres"></slide-progression>
		<h2>CPKP : Certificate Public Key Pinning <a href="http://tools.ietf.org/html/rfc7469">RFC7469</a></h2>
        <pre><code>Public-Key-Pins: pin-sha256=""; pin-sha256=""; max-age=259200</code></pre>
        <ul class="icons">
            <li><i class="fa fa-thumb-tack"></i> Entête HTTP "épinglant" une liste de condensat (hash) de certificats (AC racine, AC intermédiaire ou feuille),
            <li class="next"><i class="fa fa-cutlery"></i> Connexion uniquement si le condensat est trouvé dans la chaîne,
            <li class="next"><i class="fa fa-user-secret"></i> Évite qu’une autre AC ne signe son certificat <small>(<a href="https://www.nsa.gov/">www.nsa.gov</a> signé par <abbr title="China Internet Network Information Center">CNNIC</abbr>)</small>,
            <li class="next"><i class="fa fa-gift"></i> Pré-chargement dans les navigateurs : <a href="https://code.google.com/p/chromium/codesearch#chromium/src/net/http/transport_security_state_static.h&amp;cl=GROK&amp;gsn=GetDynamicDomainState">transport_security_state_static.h</a>,
            <li class="next"><i class="fa fa-flag-o"></i> <a href="https://developers.google.com/web/updates/2015/09/HPKP-reporting-with-chrome-46">Commencez par</a> : <code>Public-Key-Pins-Report-Only: report-uri</code>
            <li class="next"><i class="fa fa-exclamation-triangle"></i> <a href="https://noncombatant.org/2015/05/01/about-http-public-key-pinning/">Plus</a> <a href="https://timtaubert.de/blog/2014/10/http-public-key-pinning-explained/">compliqué</a> à mettre en place et plus risqué ; à reserver aux sites sensibles.
        </ul>
        <devoxx-footer></devoxx-footer>
    </div></section>

	<section id="subresource-integrity" class="slide"><div>
        <slide-progression open="apres"></slide-progression>
		<h2>Subresource integrity</h2>
        <pre>
            <code>&lt;script src="https://example.com/jquery.js"</code>
            <code>        integrity="sha384-oqVuAfX542FR..."&gt;&lt;script&gt;</code>
        </pre>
        <ul class="icons">
            <li><i class="fa fa-certificate"></i> Permet de valider cryptographiquement le contenu d’un &lt;script&gt; ou &lt;link&gt;,
            <li class="next"><i class="fa fa-globe"></i> Intéressant pour les contenus hébérgés ailleurs (<abbr title="Content Delivery Network">CDN</abbr>),
            <!--<li class="next"><i class="fa fa-firefox"></i><i class="fa fa-chrome"></i> Depuis <a href="https://hacks.mozilla.org/2015/09/subresource-integrity-in-firefox-43/">Firefox 43</a> et <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=355467">Chrome 45</a>,-->
            <li class="next"><i class="fa fa-github"></i> Utilisé sur <a href="http://githubengineering.com/subresource-integrity/">github.com</a>.
        </ul>
        <devoxx-footer></devoxx-footer>
    </div></section>

	<section id="performances" class="slide shout"><div>
        <slide-progression open="performances"></slide-progression>
		<h2><i class="fa fa-tachometer"></i> Performances</h2>
        <devoxx-footer></devoxx-footer>
	</div></section>

	<section id="performances-details-quotes" class="slide"><div>
        <slide-progression open="performances"></slide-progression>
		<h2>Performances</h2>
        <figure>
            <blockquote><p>SSL/TLS accounts for less than 1% of the CPU load, less than 10KB of memory per connection and less than 2% of network overhead</p></blockquote>
            <figcaption>Migration de gmail en 2010 - <a href="https://www.imperialviolet.org/2010/06/25/overclocking-ssl.html">Adam Langley (Google)</a></figcaption>
        </figure>
        <figure>
            <blockquote><p>We have found that modern software-based TLS implementations running on commodity CPUs are fast enough to handle heavy HTTPS traffic</p></blockquote>
            <figcaption>Doug Beaver (Facebook)</figcaption>
        </figure>
        <devoxx-footer></devoxx-footer>
	</div></section>

	<section id="performances-details-numbers" class="slide"><div>
        <slide-progression open="performances"></slide-progression>
		<h2>Performances</h2>
        <p><i class="handshake small"></i> Pour tester le nombre de "poignées de main/seconde" :</p>
        <pre><code>$ openssl speed rsa</code></pre>
        <p><i class="fa fa-laptop"></i> Sur ce <a href="http://shop.lenovo.com/fr/fr/laptops/thinkpad/t-series/t440s/">Thinkpad t440s</a> <small>(fin 2013 - Intel Core i7-4600U @ 2.10GHz)</small> :</p>
        <pre>
            <code>                 sign    verify    sign/s verify/s</code>
            <code>rsa  512 bits 0.000051s 0.000005s  19514.8 220139.1</code>
            <code><strong>rsa 1024</strong> bits 0.000193s 0.000013s   <strong>5182.2</strong>  79873.9</code>
            <code><strong>rsa 2048</strong> bits 0.001312s 0.000040s    <strong>762.3</strong>  25034.3</code>
            <code><strong>rsa 4096</strong> bits 0.009250s 0.000145s    <strong>108.1</strong>   6889.3</code>
        </pre>
        <p><i class="fa fa-bolt"></i> Facteur 7 entre 1024 et 2048, 2048 et 4096 <i class="fa fa-exclamation"></i></p>
        <devoxx-footer></devoxx-footer>
    </div></section>

	<section id="performances-details-conclusion" class="slide"><div>
        <slide-progression open="performances"></slide-progression>
		<h2>Performances</h2>
        <ul class="icons">
            <li><i class="fa fa-smile-o"></i> TLS a un impact faible sur le processeur et le réseau <strong>mais</strong> :
            <li><i class="fa fa-exclamation-circle"></i> La taille des clés du chiffrement asymétrique a un impact fort<br/><small>(2048 suffisant pour la majorité des usages)</small>,
            <li class="next"><i class="fa fa-exclamation-circle"></i> L’échange de clé <a href="#pfs">PFS</a> est plus coûteux que sans,
            <li class="next"><i class="fa fa-exclamation-circle"></i> RSA est plus coûteux que <abbr title="Elliptic Curve">EC</abbr>,
            <li class="next"><i class="fa fa-exclamation-triangle"></i> Cacher les sessions TLS est très important !
            <li class="next"><i class="fa fa-link"></i> <a href="https://istlsfastyet.com/">IsTlsFastYest.com</a>
        </ul>
        <devoxx-footer></devoxx-footer>
    </div></section>

	<section id="conclusion" class="slide shout"><div>
        <slide-progression open="conclusion"></slide-progression>
		<h2><i class="fa fa-hourglass-end"></i> Conclusion</h2>
        <devoxx-footer></devoxx-footer>
	</div></section>

	<section id="conclusion-details" class="slide"><div>
        <slide-progression open="conclusion"></slide-progression>
		<h2>Conclusion</h2>
        <ul class="icons">
            <li><i class="fa fa-bullhorn"></i> dîtes TLS (<s>SSL</s>) !
            <li class="next"><i class="fa fa-users"></i> HTTPS bientôt le &laquo; défaut &raquo;,
            <li class="next"><i class="fa fa-code"></i> commencez vos nouveaux projets en HTTPS <small>(même en dev !)</small>,
            <li class="next"><i class="fa fa-server"></i> n’ayez pas peur <small>(pas si compliqué d’avoir une configuration solide)</small>,
            <li class="next"><i class="fa fa-bell-o"></i> tenez vous au courant, tester votre site régulièrement<br/>et mettez la à jour,
            <li class="next"><i class="fa fa-wrench"></i> vive l’outillage pour automatiser TLS <small>(Let’s encrypt/ACME)</small>
            <li class="next"><i class="fa fa-ban"></i> la fin des révocations <small>(avec des certificats pour quelques jours)</small> ?
        </ul>
        <p class="link">
            <img src="pictures/qrcode.svg" alt="" />
            <a href="https://paulgreg.me/https-slides/">https://paulgreg.me/https-slides/</a>
        </p>
        <devoxx-footer></devoxx-footer>
    </div></section>

    <section id="qa" class="slide"><div>
        <h2>Questions &amp; réponses</h2>
        <figure class="center">
            <i class="fa fa-comment"></i>
        </figure>
        <p class="link">
            <img src="pictures/qrcode.svg" alt="" />
            <a href="https://paulgreg.me/https-slides/">https://paulgreg.me/https-slides/</a>
        </p>
        <devoxx-footer></devoxx-footer>
    </div></section>

	<section id="resources" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
		<h2><i class="fa fa-book"></i> Ressources</h2>
        <ul class="resources">
            <li><a href="https://www.imperialviolet.org/">ImperialViolet</a>, le blog Adam Langley (Google),
            <li><a href="https://www.schneier.com/">Schneier on Security</a>, le blog de Bruce Schneier,
            <li><a href="http://blog.cryptographyengineering.com/">A Few Thoughts on Cryptographic Engineering</a>, le blog de Matthew Green,
            <li>Interview de Tom Delmas par les Castcodeurs sur HTTPS (partie <a href="https://lescastcodeurs.com/2015/05/25/lcc-125-interview-sur-https-avec-tom-delmas-partie-1/">1</a> &amp; <a href="https://lescastcodeurs.com/2015/06/24/lcc-127-interview-sur-https-avec-tom-delmas-partie-2/">2</a>),
            <li>Security Now, <a href="https://www.grc.com/sn/past/2013.htm">épisode 412 "SSL &amp; Perfect Forward Secrecy"</a>,
            <li><a href="http://data.confs.fr/ssl-tls-sonntag/">Conférence de Benjamin Sonntag</a>, <a href="https://mozilla.github.io/server-side-tls/ssl-config-generator/">TLS config generator</a> par Mozilla,
            <li><a href="https://www.feistyduck.com/library/openssl-cookbook/">Openssl cookbook</a>, <a href="https://wiki.mozilla.org/Security/Server_Side_TLS">Guide sur TLS</a> chez Mozilla, <a href="https://www.ssllabs.com/downloads/SSL_TLS_Deployment_Best_Practices.pdf">best practices</a> chez Qualys,
            <li><a href="https://github.com/drwetter/testssl.sh">testssl.sh</a>, <a href="https://www.ssllabs.com/">SSLLabs</a>, <a href="https://tls.imirhil.fr/">tls.imirhil.fr</a> ou <a href="https://github.com/sibiantony/ssleuth">ssleuth</a> pour tester sa configuration,
            <li><a href="https://securityheaders.com/">securityheaders.io</a> pour vérifier les entêtes HTTP,
            <li><a href="https://www.grc.com/fingerprints.htm">GRC fingerprint</a>, pour vérifier les empreintes des certificats,
            <li>Mes flux RSS sur <a href="https://rsstodolist.appspot.com/?n=https&amp;l=100">HTTPS</a>, <a href="https://rsstodolist.appspot.com/?n=tls&amp;l=100">TLS</a> &amp; <a href="https://rsstodolist.appspot.com/?n=ssl&amp;l=100">SSL</a>,
            <li><a href="https://valtechtechno.github.io/cours-du-soir-http/">Si vous voulez creuser HTTP</a>.
		</ul>
        <devoxx-footer></devoxx-footer>
	</div></section>

	<section id="references" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
		<h2><i class="fa fa-book"></i> Références</h2>
		<ul>
            <li>Présentation construite avec <a href="https://github.com/shower/shower">github.com/shower/shower</a>,
            <li>Images de cable réseau : <a href="https://www.google.com/about/datacenters/gallery">google.com/about/datacenters/gallery</a>,
            <li>Source de l’image Firesheep : <a href="http://www.genbeta.com/navegadores/firesheep-hackea-con-un-click-cuentas-de-facebook-google-twitter">genbeta.com</a>,
            <li>Source de l’icône poignée de main : <a href="http://www.freepik.com" title="Freepik">Freepik</a> via <a href="http://www.flaticon.com" title="Flaticon">www.flaticon.com</a> (<a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a>)
            <li>Échange de clé Diffie-Hellman : <a href="https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange">wikipedia.org</a>,
            <li>L’idée d’insérer des licornes vient de &quot;<a href="https://www.youtube.com/watch?v=i_qE1iAmjFg">10 Things I Learned from the jQuery Source</a>&quot; par Paul Irish,
            <li><a href="https://xkcd.com/">XKCD</a> pour les comics,
            <li>Icônes via <a href="http://fortawesome.github.io/Font-Awesome/icons/">Font-Awesome</a>,
            <li>Schémas construits sur <a href="https://www.gliffy.com/">gliffy.com</a>.
		</ul>
        <devoxx-footer></devoxx-footer>
	</div></section>

	<section id="annexes" class="slide shout"><div>
        <slide-progression open="annexes"></slide-progression>
		<h2><i class="fa fa-book"></i> Annexes</h2>
	</div></section>

    <section id="interception-traffic-http-explications" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
        <h2>Fonctionnement de l’attaque (<a href="http://blog.philippheckel.com/2013/07/01/how-to-use-mitmproxy-to-read-and-modify-https-traffic-of-your-phone/">mitmproxy</a>)</h2>
        <figure class="center">
            <img src="pictures/https_raspberry.svg" class="svg" alt="Fonctionnement de l’interception" />
            <figcaption><a href="https://hackaday.io/project/10338-pi-mitm">pour construire le même...</a></figcaption>
        </figure>
    </div></section>

    <section id="vol-cookie" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
        <h2>Pour éviter de se faire voler ses cookies</h2>
        <figure class="center">
            <img src="pictures/firesheep.png" alt="Logiciel Firesheep" />
            <figcaption><a href="http://codebutler.com/firesheep/">Firesheep</a> en octobre 2010</figcaption>
        </figure>
    </div></section>

	<section id="droit-vie-prive" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
		<h2>Pour respecter la vie privée de vos utilisateurs</h2>
        <figure>
            <blockquote><p>Dire que vous vous n'en avez rien à faire de la vie privée parce que vous n'avez rien à cacher, c'est comme dire que vous n'en avez rien à faire de la liberté d'expression parce que vous n'avez rien à dire.</p></blockquote>
            <figcaption>Edward Snowden : <a href="https://www.youtube.com/watch?v=bpO3GeXTceM">about Privacy</a></figcaption>
        </figure>
	</div></section>

	<section id="ca-breach" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
        <h2><i class="fa fa-exclamation-triangle"></i> La vie des CA n’est pas un long fleuve tranquille...</h2>
        <ul>
            <li>en 2011, <a href="https://www.comodo.com/Comodo-Fraud-Incident-2011-03-23.html">Comodo</a> signe 9 certificats incluant  mail.google.com, login.yahoo.com, login.skype.com, addons.mozilla.org, login.live.com,
            <li>en 2011, <a href="https://www.vasco.com/company/about_vasco/press_room/news_archive/2011/news_diginotar_reports_security_incident.aspx">Diginotar</a> signe des certificats utilisés pour intercepter le traffic gmail en Iran ; l’entreprise <a href="https://www.vasco.com/company/about_vasco/press_room/news_archive/2011/news_vasco_announces_bankruptcy_filing_by_diginotar_bv.aspx">ferme</a> quelques jours après,
            <li>en 2013, l’<a href="http://googleonlinesecurity.blogspot.fr/2013/12/further-improving-digital-certificate.html">ANSSI</a> génère des certificats pour des domaines de google ; ils sont détectés aussitôt par Chrome,
            <li>en 2015, <a href="https://googleonlinesecurity.blogspot.sg/2015/03/maintaining-digital-certificate-security.html">Google</a> exclue les certificats signés par l’AC Chinoise <a href="https://en.wikipedia.org/wiki/China_Internet_Network_Information_Center">CNNIC</a> car ils ont signé des certificats Google, le <a href="http://www1.cnnic.cn/AU/MediaC/Announcement/201504/t20150402_52049.htm">CNNIC répond</a>,
            <li>en 2015, Symantec <a href="http://www.symantec.com/connect/blogs/tough-day-leaders">annonce une fuite de quelques certificats</a>,
                Google <a href="https://googleonlinesecurity.blogspot.fr/2015/10/sustaining-digital-certificate-security.html">en découvre 2522</a> et leur impose Certificate Transparency.
        </ul>
    </div></section>

	<section id="force-brute" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
        <h2><i class="fa fa-server"></i> Pure <a href="https://fr.wikipedia.org/wiki/Attaque_par_force_brute">force brute</a> ?</h2>
        <table>
            <tr>
                <th>type
                <th>algo
                <th>crack
                <th>et aujourd’hui ?
            <tr class="broken">
                <td><i class="fa fa-key" style="color: blue;"></i><i class="fa fa-key" style="color: orange"></i>
                <td>RSA 512
                <td><a href="https://en.wikipedia.org/wiki/RSA_numbers#RSA-155">1999</a>
                <td>entre <a href="https://eprint.iacr.org/2015/1000.pdf">7 heures</a> et <a href="https://www.youtube.com/watch?v=hkw9tFnJk8k">2,5 jours</a> via <a href="https://aws.amazon.com/fr/ec2/">EC2</a>
            <tr class="broken">
                <td><i class="fa fa-key" style="color: blue;"></i><i class="fa fa-key" style="color: orange"></i>
                <td>RSA 768
                <td><a href="https://en.wikipedia.org/wiki/RSA_numbers#RSA-768">2009</a>
                <td>
            <tr class="unsecure">
                <td><i class="fa fa-key" style="color: blue;"></i><i class="fa fa-key" style="color: orange"></i>
                <td>RSA 1024
                <td>
                    <td><a href="http://cr.yp.to/talks/2012.12.28/slides.pdf">1 an via Conficker</a> <small>(<a href="https://en.wikipedia.org/wiki/Conficker">9~15M PC</a>, <a href="https://en.wikipedia.org/wiki/RSA_numbers#RSA-1024">100 000 $ à la clé</a>)</small>
            <tr class="safe">
                <td><i class="fa fa-key" style="color: blue;"></i><i class="fa fa-key" style="color: orange"></i>
                <td>RSA 2048
                <td>
                <td><a href="https://www.digicert.com/TimeTravel/math.htm">2<sup>32</sup> plus</a> <small>(<a href="https://en.wikipedia.org/wiki/RSA_numbers#RSA-2048">200 000 $ à la clé</a>)</small>
            <tr class="broken">
                <td><i class="fa fa-key" style="color: green;"></i>
                <td>DES 56
                <td><a href="http://cs-exhibitions.uni-klu.ac.at/index.php?id=263">1997</a>
                <td><a href="https://en.wikipedia.org/wiki/Data_Encryption_Standard#Brute_force_attack">&lt; 24 heures</a>
            <tr class="safe">
                <td><i class="fa fa-key" style="color: green;"></i>
                <td>AES 128
                <td> <small>(2304 bits)</small>
                <td><a href="https://blog.cloudflare.com/why-are-some-keys-small/">avec 1 000 000 000 PC, 660 x l’age de l’univers</a>
            <tr class="safe">
                <td><i class="fa fa-key" style="color: green;"></i>
                <td>AES 256
                <td>
                <td><a href="https://crypto.stackexchange.com/questions/1145/how-much-would-it-cost-in-u-s-dollars-to-brute-force-a-256-bit-key-in-a-year">8 octodecillion $</a> <small>(ou 10<sup>44</sup> le PIB mondial)</small>
        </table>
    </div></section>

	<section id="doutes" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
		<h2>Le chiffrement, c’est solide ?</h2>
        <figure>
            <img src="pictures/Schneier.jpg" alt="Bruce Scheier" class="portrait" />
            <blockquote><p>Can the NSA break AES? My guess is that they can't.</p></blockquote>
            <blockquote><p>Still, I trust the mathematics.</p></blockquote>
            <figcaption>Bruce Schneier : <a href="https://www.schneier.com/blog/archives/2012/03/can_the_nsa_bre.html">Can the NSA Break AES?</a>, <a href="https://www.schneier.com/blog/archives/2013/09/the_nsas_crypto_1.html">The NSA's Cryptographic Capabilities</a></figcaption>
        </figure>
        <figure>
            <img src="pictures/Snowden.jpeg" alt="Edward Snowden" class="portrait" />
            <blockquote><p>Encryption works. Properly implemented strong crypto systems are one of the few things that you can rely on. Unfortunately, endpoint security is so terrifically weak that NSA can frequently find ways around it.</p></blockquote>
            <figcaption>Edward Snowden : <a href="http://techcrunch.com/2013/06/17/encrypting-your-email-works-says-nsa-whistleblower-edward-snowden/">Encrypting Your Email Works</a></figcaption>
        </figure>
    </div></section>

	<section id="cipher-suites" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
        <h2>Suites de chiffrement <small>(<a href="https://www.iana.org/assignments/tls-parameters/tls-parameters.xhtml#tls-parameters-4">cipher suites</a>)</small></h2>
        <p>Échange de clé, authentication <small>(asymétrique)</small>, chiffrement <small>(symétrique)</small>, MAC/HMAC</p>
        <ul class="small">
            <li><abbr title="Elliptic Curve Ephemeral Diffie-Hellman">ECDHE</abbr>-<abbr title="du nom des créateurs : Ronald Rivest, Adi Shamir et Leonard Adleman">RSA</abbr>-<abbr title="Advanced Encryption Standard">AES</abbr>256-<abbr title="Galois/Counter Mode">GCM</abbr>-<abbr title="Secure Hash Algorithm">SHA</abbr>384
            <li>ECDHE-<abbr title="Elliptic Curve Digital Signature Algorithm">ECDSA</abbr>-AES256-GCM-SHA384
            <li>ECDHE-RSA-AES256-SHA384
            <li>ECDHE-ECDSA-AES256-SHA384
            <li>ECDHE-RSA-AES256-SHA
            <li>ECDHE-ECDSA-AES256-SHA
            <li><abbr title="Secure Remote Password">SRP</abbr>-<abbr title="Digital Signature Standard">DSS</abbr>-AES-256-<abbr title="Cipher Block Chaining">CBC</abbr>-SHA
            <li>SRP-RSA-AES-256-CBC-SHA
            <li>SRP-AES-256-CBC-SHA
            <li><abbr title="Ephemeral Diffie-Hellman">DHE</abbr>-DSS-AES256-GCM-SHA384
            <li>DHE-RSA-AES256-GCM-SHA384
            <li>DHE-RSA-AES256-SHA256
            <li>DHE-DSS-AES256-SHA256
            <li>DHE-RSA-AES256-SHA
            <li>DHE-DSS-AES256-SHA
            <li>DHE-RSA-CAMELLIA256-SHA
            <li>DHE-DSS-CAMELLIA256-SHA
            <li>ECDH-RSA-AES256-GCM-SHA384
            <li>ECDH-ECDSA-AES256-GCM-SHA384
            <li>ECDH-RSA-AES256-SHA384
            <li>ECDH-ECDSA-AES256-SHA384
            <li>ECDH-RSA-AES256-SHA
            <li>ECDH-ECDSA-AES256-SHA
            <li>AES256-GCM-SHA384
            <li>AES256-SHA256
            <li>AES256-SHA
            <li>CAMELLIA256-SHA
            <li><abbr title="Pre-shared key">PSK</abbr>-AES256-CBC-SHA
            <li>ECDHE-RSA-<abbr title="Data Encryption Standard">DES</abbr>-CBC3-SHA
            <li>ECDHE-ECDSA-DES-CBC3-SHA
            <li>SRP-DSS-3DES-EDE-CBC-SHA
            <li>SRP-RSA-3DES-EDE-CBC-SHA
            <li>SRP-3DES-EDE-CBC-SHA
            <li>EDH-RSA-DES-CBC3-SHA
            <li>EDH-DSS-DES-CBC3-SHA
            <li>ECDH-RSA-DES-CBC3-SHA
            <li>ECDH-ECDSA-DES-CBC3-SHA
            <li>DES-CBC3-SHA
            <li>PSK-3DES-EDE-CBC-SHA
            <li>ECDHE-RSA-AES128-GCM-SHA256
            <li>ECDHE-ECDSA-AES128-GCM-SHA256
            <li>ECDHE-RSA-AES128-SHA256
            <li>ECDHE-ECDSA-AES128-SHA256
            <li>ECDHE-RSA-AES128-SHA
            <li>ECDHE-ECDSA-AES128-SHA
            <li>SRP-DSS-AES-128-CBC-SHA
            <li>SRP-RSA-AES-128-CBC-SHA
            <li>SRP-AES-128-CBC-SHA
            <li>DHE-DSS-AES128-GCM-SHA256
            <li>DHE-RSA-AES128-GCM-SHA256
            <li>DHE-RSA-AES128-SHA256
            <li>DHE-DSS-AES128-SHA256
            <li>DHE-RSA-AES128-SHA
            <li>DHE-DSS-AES128-SHA
            <li>DHE-RSA-SEED-SHA
            <li>DHE-DSS-SEED-SHA
            <li>DHE-RSA-CAMELLIA128-SHA
            <li>DHE-DSS-CAMELLIA128-SHA
            <li>ECDH-RSA-AES128-GCM-SHA256
            <li>ECDH-ECDSA-AES128-GCM-SHA256
            <li>ECDH-RSA-AES128-SHA256
            <li>ECDH-ECDSA-AES128-SHA256
            <li>ECDH-RSA-AES128-SHA
            <li>ECDH-ECDSA-AES128-SHA
            <li>AES128-GCM-SHA256
            <li>AES128-SHA256
            <li>AES128-SHA
            <li>SEED-SHA
            <li>CAMELLIA128-SHA
            <li>PSK-AES128-CBC-SHA
            <li>ECDHE-RSA-<abbr title="Rivest Cipher 4">RC4</abbr>-SHA
            <li>ECDHE-ECDSA-RC4-SHA
            <li>ECDH-RSA-RC4-SHA
            <li>ECDH-ECDSA-RC4-SHA
            <li>RC4-SHA
            <li>RC4-MD5
            <li>PSK-RC4-SHA
            <li>EDH-RSA-DES-CBC-SHA
            <li>EDH-DSS-DES-CBC-SHA
            <li>DES-CBC-SHA
            <li>etc.
        </ul>
	</div></section>

	<section id="diffie-hellman-handshake-title" class="slide tell"><div>
        <slide-progression open="annexes"></slide-progression>
        <h2><i class="handshake"></i> Poignée de main <small>via l’échange de clé Diffie-Hellman (<a href="http://vincent.bernat.im/fr/blog/2011-ssl-perfect-forward-secrecy.html">détails</a>)</small></h2>
	</div></section>

	<section id="diffie-hellman-handshake-client-hello" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
        <h2>1. &laquo; Client hello &raquo;</h2>
        <figure class="sidebyside handshake">
            <figcaption>
                <img src="pictures/diffie-hellman-handshake/1-handshake.png" alt="handshake : client hello" />
            </figcaption>
            <img src="pictures/diffie-hellman-handshake/1-client-hello.png" alt="wireshark : client hello" />
        </figure>
	</div></section>

	<section id="diffie-hellman-handshake-server-hello" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
        <h2>2. &laquo; Server hello &raquo;</h2>
        <figure class="sidebyside handshake">
            <figcaption><img src="pictures/diffie-hellman-handshake/2-handshake.png" alt="handshake : server hello" /></figcaption>
            <img src="pictures/diffie-hellman-handshake/2-server-hello.png" alt="server hello" />
        </figure>
	</div></section>

	<section id="diffie-hellman-handshake-server-certificate" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
        <h2>2. Certificat(s)</h2>
        <figure class="sidebyside handshake">
            <figcaption><img src="pictures/diffie-hellman-handshake/3-handshake.png" alt="handshake : server certificates" /></figcaption>
            <img src="pictures/diffie-hellman-handshake/3-certificates.png" alt="server certificates" />
        </figure>
	</div></section>

	<section id="diffie-hellman-handshake-server-hello-done" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
        <h2>3. &laquo; Server Key Exchange &raquo; &amp; &laquo; hello done &raquo;</h2>
        <figure class="sidebyside handshake">
            <figcaption>
                <img src="pictures/diffie-hellman-handshake/4-handshake.png" alt="handshake : key exchange" />
            </figcaption>
            <img src="pictures/diffie-hellman-handshake/4-server-hello-done.png" alt="key exchange">
        </figure>
	</div></section>

	<section id="diffie-hellman-handshake-key-exchange" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
        <h2>4. Échange de clé</h2>
        <figure class="sidebyside handshake">
            <figcaption>
                <img src="pictures/diffie-hellman-handshake/5-handshake.png" alt="handshake : key exchange" />
            </figcaption>
            <img src="pictures/diffie-hellman-handshake/5-key-exchange.png" alt="key exchange">
        </figure>
	</div></section>

	<section id="diffie-hellman-handshake-change-cipher-spec" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
        <h2>5. Fin de l’échange de clé</h2>
        <figure class="sidebyside handshake">
            <figcaption>
                <img src="pictures/diffie-hellman-handshake/6-handshake.png" alt="handshake : key exchange" />
            </figcaption>
            <img src="pictures/diffie-hellman-handshake/6-change-cipher-spec.png" alt="change cipher spec">
        </figure>
	</div></section>

	<section id="diffie-hellman-handshake-encrypted-data" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
        <h2>6. Place au traffic chiffré</h2>
        <figure class="sidebyside handshake">
            <figcaption>
                <img src="pictures/diffie-hellman-handshake/7-handshake.png" alt="poignée de main">
            </figcaption>
            <img src="pictures/diffie-hellman-handshake/7-encrypted-data.png" alt="encrypted data">
        </figure>
        <pre>
            <code></code>
        </pre>
	</div></section>

	<section id="certificat-x509" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
        <h2>Un certificat <a href="https://openssl.org/docs/manmaster/apps/x509v3_config.html">X.509</a></h2>
        <pre class="small">
            <code>$ openssl x509 -in <a href="https://www.gandi.net/static/CAs/GandiStandardSSLCA2.pem">GandiStandardSSLCA2.pem</a> -inform pem -noout -text</code>
            <code>Certificate:</code>
            <code>Data:</code>
            <code>    <strong>Version</strong>: 3 (0x2)</code>
            <code>    <strong>Serial Number</strong>: 05:e4:dc:3b:94:38:ab:3b:85:97:cb:a6:a1:98:50:e3</code>
            <code><strong>Signature Algorithm</strong>: sha384WithRSAEncryption</code>
            <code>    <strong>Issuer</strong>: C=US, ST=New Jersey, L=Jersey City, O=The USERTRUST Network, CN=USERTrust RSA Certification Authority</code>
            <code>    <strong>Validity</strong> Not Before: Sep 12 00:00:00 2014 GMT   Not After : Sep 11 23:59:59 2024 GMT</code>
            <code>    <strong>Subject</strong>: C=FR, ST=Paris, L=Paris, O=Gandi, CN=Gandi Standard SSL CA 2</code>
            <code>    Subject Public Key Info:</code>
            <code>        <strong>Public Key Algorithm</strong>: rsaEncryption</code>
            <code>            <strong>Public-Key</strong>: (2048 bit)</code>
            <code>            <strong>Modulus</strong>: 00:94:04:2d:a6:79:95:74:ff:d5:00:3c:f5:ae:d8:...</code>
            <code>            <strong>Exponent</strong>: 65537 (0x10001)</code>
            <code>    X509v3 <strong>extensions</strong>:</code>
            <code>        X509v3 <strong>Authority Key Identifier</strong>:</code>
            <code>            keyid:53:79:BF:5A:AA:2B:4A:CF:54:80:E1:D8:9B:C0:9D:F2:B2:03:66:CB</code>
            <code>        X509v3 <strong>Subject Key Identifier</strong>:</code>
            <code>            B3:90:A7:D8:C9:AF:4E:CD:61:3C:9F:7C:AD:5D:7F:41:FD:69:30:EA</code>
            <code>        X509v3 <strong>Key Usage</strong>: critical</code>
            <code>            <strong>Digital Signature, Certificate Sign, CRL Sign</strong></code>
            <code>        X509v3 Basic Constraints: critical</code>
            <code>            <strong>CA:TRUE</strong>, pathlen:0</code>
            <code>        X509v3 <strong>Extended Key Usage</strong>:</code>
            <code>            TLS Web Server Authentication, TLS Web Client Authentication</code>
            <code>        X509v3 Certificate Policies:</code>
            <code>            Policy: 1.3.6.1.4.1.6449.1.2.2.26</code>
            <code>            Policy: 2.23.140.1.2.1</code>
            <code>        X509v3 <strong>CRL Distribution Points</strong>:</code>
            <code>            Full Name: URI:http://crl.usertrust.com/USERTrustRSACertificationAuthority.crl</code>
            <code>        Authority Information Access:</code>
            <code>            CA Issuers - URI:http://crt.usertrust.com/USERTrustRSAAddTrustCA.crt</code>
            <code>            <strong>OCSP</strong> - URI:http://ocsp.usertrust.com</code>
            <code><strong>Signature Algorithm</strong>: sha384WithRSAEncryption</code>
            <code>     58:67:fd:72:b2:6a:d7:7c:61:96:19:7e:d9:43:46:d1:26:7d:...</code>
        </pre>
	</div></section>

	<section id="DANE" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
        <h2>DNS-based Authentication of Named Entities (<a href="http://www.bortzmeyer.org/6698.html">DANE</a>)</h2>
        <ul>
            <li>Certificat publié dans un enregistrement <a href="http://www.dnssec.net/">DNSSEC</a> (obligatoire) de type <code>TLSA</code>,
            <li class="next">Support très limité (rien pour <a href="https://www.imperialviolet.org/2015/01/17/notdane.html">Google Chrome</a>, <a href="https://www.dnssec-validator.cz/">Addon</a> pour Firefox),
        </ul>
        <h3 class="next"><a href="https://www.iana.org/assignments/dane-parameters/dane-parameters.xml#certificate-usages">4 types</a> :</h3>
        <ol>
            <li class="next">PKIX-TA/ CA constraint : seule cette CA peut signer le certificat (complément),
            <li class="next">PKIX-EE/ Service certificate constraint : force un certificat (complément),
            <li class="next">DANE-TA/ Trust anchor assertion : certificat d’un CA (CA "maison"),
            <li class="next">DANE-EE/ Domain-issued certificate : certificat pour un domaine (auto-signé).
        </ol>
        <devoxx-footer></devoxx-footer>
    </div></section>

	<section id="beast" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
        <h2><i class="fa fa-optin-monster"></i> <a href="https://www.isecpartners.com/media/106031/ssl_attacks_survey.pdf">BEAST</a>: Browser Exploit Against SSL/TLS</h2>
        <ul>
            <li>Faille dans certains algorithmes de chiffrement symétrique en mode <abbr title="Cipher Block Chaining">CBC</abbr> (sur les <abbr title="Initialization Vector">IV</abbr>) sur SSL 3.0 et TLS 1.0,
            <li>Juliano Rizzo et Thai Duong <a href="http://vnhacker.blogspot.fr/2011/09/beast.html">démontrent un <abbr title="Proof of concept">POC</abbr></a> en 2011 (principe <a href="https://www.openssl.org/~bodo/tls-cbc.txt">découvert par Phillip Rogaway en 2002</a>),
            <li>nécessite de choisir le contenu à envoyer + MITM,
            <li>on préconisait alors d’utiliser <abbr title="Rivest Cipher 4">RC4</abbr> (non vulnérable),
            <li>corrigée dans TLS 1.1 en 2006.
        </ul>
    </div></section>

	<section id="crime" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
        <h2><i class="fa fa-bolt"></i> <a href="https://www.isecpartners.com/media/106031/ssl_attacks_survey.pdf">CRIME</a>: Compression Ratio Info-leak Made Easy</h2>
        <ul>
            <li>Faille utilisant la compression offerte par SSL/TLS (et aussi SPDY),
            <li>l’idée consiste à injecter du traffic vers le serveur cible en inspectant la taille, si celle-ci diminue (grâce à la compression), on a deviné une chaîne de caractère (par exemple le cookie),
            <li>Juliano Rizzo et Thai Duong (encore) <a href="https://docs.google.com/presentation/d/11eBmGiHbYcHR9gL5nDyZChu_-lCa2GizeuOfaLU2HOU/edit?pli=1">démontrent un POC</a> en 2012 (principe <a href="https://www.iacr.org/cryptodb/data/paper.php?pubkey=3091">découvert</a> par John Kelsey en 2002),
            <li>nécessite de choisir le contenu à envoyer + MITM,
            <li>solution : désactiver la compression sur TLS.
        </ul>
    </div></section>

	<section id="breach" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
        <h2><i class="fa fa-bolt"></i> <a href="https://www.isecpartners.com/media/106031/ssl_attacks_survey.pdf">BREACH</a>: Browser Reconnaissance and Exfiltration via Adaptive Compression of Hypertext</h2>
        <ul>
            <li>découverte par Angelo Prado, Neal Harris et Yoel Gluck en 2013,
            <li>même principe que CRIME mais utilisant la compression HTTP (gzip, deflate),
            <li>touche toutes les versions de SSL/TLS, toutes les suites de chiffrement,
            <li>nécessite de choisir le contenu à envoyer + MITM + retour,
            <li>Aucune <a href="http://breachattack.com/#mitigations">solution ultime</a> mais on peut désactiver la compression HTTP pour les contenus sensibles, se protéger contre les <abbr title="Cross-Site Request Forgery">CSRF</abbr>,...
        </ul>
    </div></section>

	<section id="poodle" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
        <h2><i class="fa fa-level-down"></i> <a href="https://www.openssl.org/~bodo/ssl-poodle.pdf">POODLE</a>: Padding Oracle On Downgraded Legacy Encryption</h2>
        <ul>
            <li>Faille <a href="https://www.openssl.org/~bodo/ssl-poodle.pdf">découverte par Bodo Möller, Thai Duong et Krzysztof Kotowicz</a> (Google) en 2014 sur SSL 3.0,
            <li>Attaque <abbr title="Man in the middle">MITM</abbr> où la connexion est dégradée vers SSL 3.0 et où l’on pourra utiliser BEAST pour casser le chiffrement,
            <li>Solution : désactiver SSL 3.0
        </ul>
    </div></section>

	<section id="freak" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
        <h2><i class="fa fa-optin-monster"></i> <a href="https://freakattack.com/">FREAK</a>: Factoring RSA EXPORT Attack Keys</h2>
        <ul>
            <li>Faille <a href="https://www.smacktls.com/">découverte</a> par l’<a href="https://www.inria.fr/">INRIA</a>, <a href="http://research.microsoft.com/">Microsoft Research</a> et <a href="http://www.imdea.org/">IMDEA</a> en 2015,
            <li>en 90, les USA imposent du chiffrement faible (RSA 512 bits) pour l’étranger (<code>export RSA</code>),
            <li>n’est plus en vigueur mais oublié dans les logiciels,
            <li>attaque MITM où l’on dégrade la connexion vers ce chiffrement faible, <a href="http://blog.cryptographyengineering.com/2015/03/attack-of-week-freak-or-factoring-nsa.html">cassable en quelques heures</a>,
            <li>Solution : mettre à jour OpenSSL (<a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2015-0204">CVE-2015-0204</a>) et désactiver les suites de chiffrement &laquo; faible &raquo;.
        </ul>
    </div></section>

	<section id="logjam" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
        <h2><i class="fa fa-level-down"></i> <a href="https://weakdh.org/imperfect-forward-secrecy-ccs15.pdf">Logjam</a></h2>
        <ul>
            <li>Faille <a href="https://weakdh.org/imperfect-forward-secrecy-ccs15.pdf">découverte</a> par l’INRIA, Microsoft Research, Johns Hopkins, l’Université du Michigan et celle de Pennsylvanie en 2015,
            <li>cible l’échange de clé Diffie-Hellman (sans <abbr title="elliptic curve">EC</abbr>)
            <li>l’<a href="https://blog.cloudflare.com/logjam-the-latest-tls-vulnerability-explained/">attaque</a> <a href="http://blog.cryptographyengineering.com/2015/05/attack-of-week-logjam.html">consiste</a> à remplacer une demande <code>DHE</code> en <code>DHE_EXPORT</code> (512 bits),
            <li>2<sup>ème</sup> problème : 82 % des 1 000 000 plus gros sites utilisent les mêmes valeurs pour Diffie-Hellman (en dur), permettant un pré-calcul <small>(<a href="http://hackaday.com/2015/10/15/how-the-nsa-can-read-your-emails/">sûrement</a> <a href="https://freedom-to-tinker.com/blog/haldermanheninger/how-is-nsa-breaking-so-much-crypto/">exploité</a>)</small>,
            <li>Solution : désactiver les suites de chiffrements &laquo; faibles &raquo; (minimum 2048 bits), <a href="https://blog.flowl.info/2015/how-to-generate-a-new-diffie-hellman-group/">regénérer des paramètres Diffie-Hellman</a>, utiliser <code>ECDHE</code>.
        </ul>
    </div></section>

	<section id="drown" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
        <h2><i class="fa fa-tint"></i> <a href="https://drownattack.com/">DROWN: Breaking TLS using SSLv2</a></h2>
        <ul>
            <li>Faille <a href="https://drownattack.com/drown-attack-paper.pdf">découverte</a> en 2016 par plusieurs universités et entreprises,
            <li>amélioration de l’attaque de Bleichenbacher (1998),
            <li>permet de déchiffrer passivement du contenu TLS en utilisant SSLv2 comme oracle,
            <li>permet d’utiliser un autre serveur que celui cible s’il partage la clé privée,
            <li>pour s’en prémunir, il faut utiliser une version d’OpenSSL compilée sans le support de SSLv2.
        </ul>
    </div></section>

	<section id="collision" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
		<h2><i class="fa fa-user-secret"></i> Générer des faux certificats</h2>
        <ul>
            <li>avec les collisions : on joue sur le contenu pour que la signature corresponde,
            <li>en 2008 avec <a href="https://www.win.tue.nl/hashclash/rogue-ca/">MD5</a>,
            <li>en 2015, &laquo; <a href="https://sites.google.com/site/itstheshappening/">The SHAppening</a> &raquo; : collision sur une partie de SHA1 (compression) ; on estime une <a href="https://www.schneier.com/blog/archives/2012/10/when_will_we_se.html">attaque possible pour 700 000 $</a>,
            <li>d’abord <a href="http://googleonlinesecurity.blogspot.fr/2014/09/gradually-sunsetting-sha-1.html">Google</a>,
                puis <a href="http://blogs.windows.com/msedgedev/2015/11/04/sha-1-deprecation-update/">Microsoft</a>
                et <a href="https://blog.mozilla.org/security/2014/09/23/phasing-out-certificates-with-sha-1-based-signature-algorithms/">Mozilla</a>
                <a href="https://blog.filippo.io/the-unofficial-chrome-sha1-faq/">bloquent</a> les certificats et CA signés avec SHA1 en 2016.
        </ul>
    </div></section>

	<section id="attaques-pointues" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
        <h2><i class="fa fa-fighter-jet"></i> Quelques autres attaques</h2>
        <ul>
            <li>en 2010, analyse de la <a href="http://www.infosecurity-magazine.com/news/researchers-crack-rsa-encryption-via-power-supply/">consommation électrique</a> d’un ordinateur pour retrouver une clé privée (canal auxiliaire ou &laquo; side channel &raquo;),
            <li>en 2013, analyse du <a href="http://www.forbes.com/sites/timworstall/2013/12/21/researchers-break-rsa-4096-encryption-with-just-a-microphone-and-a-couple-of-emails/">bruit des composants</a> pour la retrouver,
            <li>en 2013, <a href="http://blog.cryptographyengineering.com/2013/09/the-many-flaws-of-dualecdrbg.html">Dual_EC_DRBG</a> par RSA Security avec une porte dérobé pour la NSA,
            <li>en 2013, <a href="https://www.isecpartners.com/media/106031/ssl_attacks_survey.pdf">Lucky13</a>, <a href="https://www.isecpartners.com/media/106031/ssl_attacks_survey.pdf"><abbr title="Timing Info-leak Made Easy">TIME</abbr></a> et attaques sur <a href="https://www.isecpartners.com/media/106031/ssl_attacks_survey.pdf">RC4</a> (désactivé par Microsoft, Google et Mozilla en 2016),
            <li>en 2015, <a href="https://www.youtube.com/watch?v=hkw9tFnJk8k">Attaque sur <abbr title="Network Time Protocol">NTP</abbr></a> pour réinitialiser HSTS puis craquer de &laquo; vieux &raquo; certificats 512 bits.
        </ul>
    </div></section>

	<section id="CSP" class="slide"><div>
        <slide-progression open="annexes"></slide-progression>
        <h2><a href="https://diogomonica.com/2015/12/30/deep-into-csp/">CSP</a> : Content Security Policy</h2>
        <pre>
            <code>Content-Security-Policy:default-src 'none';</code>
            <code>     script-src 'self'; style-src 'self';</code>
            <code>     upgrade-insecure-requests; block-all-mixed-content;</code>
        </pre>
        <ul class="icons">
            <li><i class="fa fa-thumb-tack"></i> Entête HTTP apportant des restrictions sur les types de contenu attendus et leur provenances,
            <li><i class="fa fa-ban"></i> Système de liste blanche <small>(ce qui n’est pas listé est bloqué)</small>,
            <li><i class="fa fa-bomb"></i> Très puissant car permet d’éviter des injections de code,
            <li><i class="fa fa-exclamation-triangle"></i> Difficile <small>(impossible ?)</small> à mettre en place avec du contenu aggrégé <small>(publicité...)</small>,
            <li><i class="fa fa-flag-o"></i> Activez les rapports : <code>report-uri</code> <small>(il existe des <a href="https://report-uri.io/home/generate/">générateurs</a> de CSP)</small>
        </ul>
        <devoxx-footer></devoxx-footer>
    </div></section>


	<p class="badge"><a href="https://github.com/paulgreg/https-slides">Fork me on Github</a></p>
	<div class="progress"><div></div></div>
    <script>
    if (document.location.search && (document.location.search.indexOf('?devoxx') === 0)) {
        var head = document.head || document.getElementsByTagName('head')[0],
            devoxxStyle = document.createElement('link');
        devoxxStyle.rel = 'stylesheet';
        devoxxStyle.href = 'styles/devoxx.css';
        head.appendChild(devoxxStyle);

        document.querySelector('#cover img.front').setAttribute('src', 'pictures/devoxx-background-light.jpg');
    }
    </script>
	<script src="node_modules/shower-core/shower.min.js"></script>
</body>
</html>
